# Initialization (Hook)

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

:::note
Since Lively is still in beta, the design is subject to change and should not be considered final!
:::

We have also created examples for Basic Initialization in the Examples folder.

<Tabs>
  <TabItem value="jsx" label="Live">

```jsx live
function InitializationExample(props) {
  const [robot, setRobot] = useState("panda");
  const [robotState, setRobotState] = useState(null);

  const { solver, solve } = useLively({
    urdf: urdfs[robot],
    objectives:{
      smoothness: {
        // An example objective (smoothness macro)
        name: "MySmoothnessObjective",
        type: "SmoothnessMacro",
        weight: 5,
      },
    }
  });

  useEffect(() => {
    setRobotState(solve({}, {}, 0.0))

    return () => {};
  }, [solve,solver]); // Rerun this code if the robot changes

  return (
    <div>
      <Button active={robot === "panda"} onClick={() => setRobot("panda")}>
        Panda
      </Button>
      <Button active={robot === "ur3e"} onClick={() => setRobot("ur3e")}>
        UR3e
      </Button>
      <RobotViewer
        state={robotState}
        links={solver ? solver.links : []}
      />
      <Tree label="state" data={robotState} />
    </div>
  );
}
```

  </TabItem>

  <TabItem value="js" label="Javascript">

```js
import init, { Solver } from "lively";

async function start() {
  // Initialize the lively package (WASM)
  await init();
  // Instantiate a new solver
  let solver = new Solver(
    "<?xml version='1.0' ?><robot name='panda'>...</robot>", // Full urdf as a string
    {
      smoothness: {
        // An example objective (smoothness macro)
        name: "MySmoothnessObjective",
        type: "SmoothnessMacro",
        weight: 5,
      },
    }
  );
  // Run solve to get a solved state
  let state = solver.solve({}, {}, 0.0);
  // Log the initial state
  console.log(state);
}

// Could be executed from anywhere that supports async actions
start();
```

  </TabItem>

  <TabItem value="py" label="Python">

```py
from lively import Solver, SmoothnessMacroObjective

# Instantiate a new solver
solver = Solver(
  urdf='<?xml version="1.0" ?><robot name="panda">...</robot>', # Full urdf as a string
  objectives={
      # An example objective (smoothness macro)
      "smoothness":SmoothnessMacroObjective(name="MySmoothnessObjective",weight=5)
  }
)

# Run solve to get a solved state
state = solver.solve({},{},0.0)
# Log the initial state
print(state)
```

  </TabItem>

  <TabItem value="rs" label="Rust">

```rust
use lively::lively::Solver;
use lively::objectives::core::base::SmoothnessMacroObjective;
use lively::objectives::objective::Objective;
use std::collections::HashMap;
use std::fs;

fn main() {
    let mut objectives: HashMap<String, Objective> = HashMap::new();
    // Add a Smoothness Macro Objective
    objectives.insert(
        "smoothness".into(),
        // An example objective (smoothness macro)
        Objective::SmoothnessMacro(SmoothnessMacroObjective::new("MySmoothnessObjective".to_string(), 5.0, true,false,false))
    );
let data = fs::read_to_string("./tests/basic.xml").expect("Something went wrong reading the file");
let mut solver = Solver::new(
    data.clone(), // Full urdf as a string
    objectives, //objectives
    None, //root_bounds
    None, //shapes
    None, //initial_state
    None, //max_retries
    None, //max_iterations
    None);//collision_settings

}

```

  </TabItem>

</Tabs>
